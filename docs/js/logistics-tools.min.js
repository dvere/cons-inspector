let switchContainers={swapContainers:()=>{let t={},e=$("#oldCtr").val().trim(),n=$("#newCtr").val().trim(),s=Number(e.replace(/\D/g,""));t.oldContainer=e,t.newContainer=n,t.consignments=[],$.getJSON("/trunkcontainers/"+s+"/events").done(t=>{let e=[];return $.each(t,(t,n)=>{let s=n.description.split(" ")[1];s.match(/^PCS[0-9]{9}$/)&&e.push(s)}),e}).then(s=>{0!==s.length?$.each(s,(e,s)=>{$.post("/trunkcontainers/"+n+"/scan/"+s).done(e=>{let n={barcode:s,status:e.status};t.consignments.push(n)})}):(t.error=1,t.errormessage="Could not get records for "+e),$("#switch-results").text(JSON.stringify(t,void 0,2))})},prepare:()=>{let t="(CSTC|OOC)[0-9]{8}",e=$("<div>",{id:"cForm"}).append($("<input>",{id:"oldCtr",required:"required",pattern:t})).append($("<input>",{id:"newCtr",required:"required",pattern:t})).append($("<button>",{text:"Move Records",onclick:switchContainers.swapContainers}));$("#ltInsert").empty().append(e).append($("<div>",{id:"switch-results"})),$("#oldCtr").focus()}};function addPartsToDOM(){var t;$("<link>",{id:"lt-style",rel:"stylesheet",href:"https://dvere.github.io/logistics-tools/"+"css/logistics-tools.min.css?v="+$.now()}).appendTo($("head"));var e=$("<div>",{id:"ltContainer"}).append($("<button>",{class:"ltButton",onclick:consInspector,text:"Consignments Inspector"})).append($("<button>",{class:"ltButton",onclick:autoContainers,text:"Auto Containers"})).append($("<button>",{class:"ltButton",onclick:sc.prepare,text:"Swap Containers"})).append($("<div>",{id:"ltInsert"}));$("div.breadcrumbs").hide(),$("div.page-content > div > div").empty().append(e)}$.when($.ready).then((function(){addPartsToDOM()}));
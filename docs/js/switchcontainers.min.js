let switchContainers={swapContainers:()=>{let e={},t=$("#oldCtr").val().trim(),r=$("#newCtr").val().trim(),n=Number(t.replace(/\D/g,""));e.oldContainer=t,e.newContainer=r,e.consignments=[],$.getJSON("/trunkcontainers/"+n+"/events").done(e=>{let t=[];return $.each(e,(e,r)=>{let n=r.description.split(" ")[1];n.match(/^PCS[0-9]{9}$/)&&t.push(n)}),t}).then(n=>{0!==n.length?$.each(n,(t,n)=>{$.post("/trunkcontainers/"+r+"/scan/"+n).done(t=>{let r={barcode:n,status:t.status};e.consignments.push(r)})}):(e.error=1,e.errormessage="Could not get records for "+t),$("#switch-results").text(JSON.stringify(e,void 0,2))})},prepare:()=>{let e="(CSTC|OOC)[0-9]{8}",t=$("<div>",{id:"cForm"}).append($("<input>",{id:"oldCtr",required:"required",pattern:e})).append($("<input>",{id:"newCtr",required:"required",pattern:e})).append($("<button>",{text:"Move Records",onclick:switchContainers.swapContainers}));$("#ltInsert").empty().append(t).append($("<div>",{id:"switch-results"})),$("#oldCtr").focus()}};export default switchContainers;